{"version":3,"file":"index.mjs","sources":["../../src/utils/ConnectedOverlayScrollHandler.js","../../src/utils/HelperSet.js","../../src/utils/UniqueComponentId.js","../../src/utils/Utils.js"],"sourcesContent":["import { getScrollableParents } from '@primeuix/utils/dom';\n\nexport default class ConnectedOverlayScrollHandler {\n    constructor(element, listener = () => {}) {\n        this.element = element;\n        this.listener = listener;\n    }\n\n    bindScrollListener() {\n        this.scrollableParents = getScrollableParents(this.element);\n\n        for (let i = 0; i < this.scrollableParents.length; i++) {\n            this.scrollableParents[i].addEventListener('scroll', this.listener);\n        }\n    }\n\n    unbindScrollListener() {\n        if (this.scrollableParents) {\n            for (let i = 0; i < this.scrollableParents.length; i++) {\n                this.scrollableParents[i].removeEventListener('scroll', this.listener);\n            }\n        }\n    }\n\n    destroy() {\n        this.unbindScrollListener();\n        this.element = null;\n        this.listener = null;\n        this.scrollableParents = null;\n    }\n}\n","import { isNotEmpty } from '@primeuix/utils/object';\n\nexport default class {\n    helpers;\n    type;\n    constructor({ init, type }) {\n        this.helpers = new Set(init);\n        this.type = type;\n    }\n    add(instance) {\n        this.helpers.add(instance);\n    }\n    update() {\n        // @todo\n    }\n    delete(instance) {\n        this.helpers.delete(instance);\n    }\n    clear() {\n        this.helpers.clear();\n    }\n    get(parentInstance, slots) {\n        const children = this._get(parentInstance, slots);\n        const computed = children ? this._recursive([...this.helpers], children) : null;\n\n        return isNotEmpty(computed) ? computed : null;\n    }\n    _isMatched(instance, key) {\n        const parent = instance?.parent;\n\n        return parent?.vnode?.key === key || (parent && this._isMatched(parent, key)) || false;\n    }\n    _get(parentInstance, slots) {\n        return (slots || parentInstance?.$slots)?.default?.() || null;\n    }\n    _recursive(helpers = [], children = []) {\n        let components = [];\n\n        children.forEach((child) => {\n            if (child.children instanceof Array) {\n                components = components.concat(this._recursive(components, child.children));\n            } else if (child.type.name === this.type) {\n                components.push(child);\n            } else if (isNotEmpty(child.key)) {\n                components = components.concat(helpers.filter((c) => this._isMatched(c, child.key)).map((c) => c.vnode));\n            }\n        });\n\n        return components;\n    }\n}\n","import { uuid } from '@primeuix/utils/uuid';\n\nexport default function (prefix = 'pv_id_') {\n    return uuid(prefix);\n}\n","export * from '@primeuix/utils';\nexport { default as ConnectedOverlayScrollHandler } from './ConnectedOverlayScrollHandler';\nexport { default as HelperSet } from './HelperSet';\nexport { default as UniqueComponentId } from './UniqueComponentId';\n\nexport function getVNodeProp(vnode, prop) {\n    if (vnode) {\n        let props = vnode.props;\n\n        if (props) {\n            let kebabProp = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n            let propName = Object.prototype.hasOwnProperty.call(props, kebabProp) ? kebabProp : prop;\n\n            return vnode.type.extends.props[prop].type === Boolean && props[propName] === '' ? true : props[propName];\n        }\n    }\n\n    return null;\n}\n"],"names":["ConnectedOverlayScrollHandler","element","listener","arguments","length","undefined","_classCallCheck","_createClass","key","value","bindScrollListener","scrollableParents","getScrollableParents","i","addEventListener","unbindScrollListener","removeEventListener","destroy","_default","_ref","init","type","_defineProperty","helpers","Set","add","instance","update","_delete","clear","get","parentInstance","slots","children","_get","computed","_recursive","_toConsumableArray","isNotEmpty","_isMatched","_parent$vnode","parent","vnode","_ref2","_ref2$default","$slots","call","_this","components","forEach","child","Array","concat","name","push","filter","c","map","prefix","uuid","getVNodeProp","prop","props","kebabProp","replace","toLowerCase","propName","Object","prototype","hasOwnProperty","Boolean"],"mappings":"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"}